{
  "$schema": "./node_modules/oxlint/configuration_schema.json",
  "rules": {
    "no-console": [
      "warn",
      {
        "allow": []
      }
    ],
    "no-restricted-globals": [
      "error",
      {
        "name": "fetch",
        "message": "External communication is forbidden. Add exception to .oxlintrc.json overrides if required."
      },
      {
        "name": "XMLHttpRequest",
        "message": "External communication is forbidden."
      },
      {
        "name": "WebSocket",
        "message": "WebSocket communication is forbidden."
      }
    ]
  },
  "overrides": [
    // Debugger CLI - console is intentional for user output
    {
      "files": ["app/debugger/src/**/*"],
      "rules": { "no-console": "off" }
    },
    // Server - console is intentional for startup message
    {
      "files": ["app/server/src/**/*"],
      "rules": { "no-console": "off" }
    },
    // Logger package - console is the output mechanism
    {
      "files": ["packages/extension-runtime/src/logger.ts"],
      "rules": { "no-console": "off" }
    },
    // Debug bridge - needs console before logger is connected, and WebSocket for debug
    {
      "files": ["app/extension/lib/debug-bridge.ts"],
      "rules": { "no-console": "off", "no-restricted-globals": "off" }
    },
    // RDAP API query for NRD detection (default: OFF)
    {
      "files": ["packages/nrd/src/rdap.ts"],
      "rules": { "no-restricted-globals": "off" }
    },
    // Remote API client (default: local mode)
    {
      "files": ["packages/extension-runtime/src/api-client.ts"],
      "rules": { "no-restricted-globals": "off" }
    },
    // CSP violation report sender (default: OFF)
    {
      "files": ["packages/csp/src/reporter.ts"],
      "rules": { "no-restricted-globals": "off" }
    },
    // Web API interceptor for monitoring (no actual communication)
    {
      "files": ["app/extension/public/api-hooks.js"],
      "rules": { "no-restricted-globals": "off" }
    },
    // AI service interceptor for monitoring (no actual communication)
    {
      "files": ["app/extension/public/ai-hooks.js"],
      "rules": { "no-restricted-globals": "off" }
    },
    // Landing page website (separate from extension)
    {
      "files": ["app/website/**/*"],
      "rules": { "no-restricted-globals": "off" }
    },
    // Integration manager - user-configured Slack/Webhook notifications (default: OFF)
    {
      "files": ["packages/integrations/src/manager.ts"],
      "rules": { "no-restricted-globals": "off" }
    },
    // Pleno Battacker - intentionally simulates attacks including network communication
    {
      "files": ["app/pleno-battacker/**/*"],
      "rules": { "no-console": "off", "no-restricted-globals": "off" }
    }
  ]
}
