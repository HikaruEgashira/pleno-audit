# ADR-031: Grafana戦略を参考にしたビジネスモデル設計

## ステータス
Proposed

## コンテキスト

pleno-auditをGrafanaのオープンコア戦略を参考にビジネス化する方向性を検討。
ギャップ分析によりGrafanaとの違いを明確化し、ブラウザセキュリティ/CASB領域での適用戦略を立案する。

---

# Pleno Audit vs Grafana ギャップ分析

## 1. 分析軸

| 軸 | 観点 | 重要度 |
|----|------|--------|
| プロダクト | 何を提供するか | 高 |
| 収益モデル | どう収益化するか | 高 |
| エコシステム | プラグイン・コミュニティ | 高 |
| 市場 | 対象顧客・競合 | 高 |
| 技術アーキテクチャ | スケーラビリティ・拡張性 | 中 |
| ブランド・信頼 | 認知・実績 | 中 |

## 2. 参考モデルと競合調査

### Grafana（ビジネスモデル参考）

Grafanaはオブザーバビリティ領域のプレイヤーであり、pleno-auditとは市場が異なる。
**競合ではなく、オープンコア戦略の成功事例として参考にする。**

| Grafana成功要因 | pleno-audit適用可能性 |
|-----------------|----------------------|
| OSS→Enterprise階段モデル | ◎ 適用可能 |
| プラグインエコシステム | ◎ 適用可能 |
| ビッグテント戦略（99%無料→1%有料化） | ◎ 適用可能 |
| Cloud SaaS収益 | × プライバシー戦略で除外 |
| LGTM統合スタック | ○ Security Stackとして応用 |

### ブラウザセキュリティ/CASB市場（競合）

| 競合 | アプローチ | 強み | 弱み |
|------|-----------|------|------|
| **Netskope** | Cloud CASB | フルスタックCASB、DLP | 高コスト、エージェント必須 |
| **Zscaler** | Zero Trust | グローバル展開、実績 | 複雑、高価 |
| **Microsoft Defender** | 統合型 | M365統合、規模 | Microsoft依存 |
| **Talon/Island** | Enterprise Browser | 専用ブラウザ | 導入障壁、ベンダーロック |
| **LayerX** | Browser Extension | 軽量、既存ブラウザ | スケール未知数 |

### pleno-auditのポジショニング

```
                    高コスト
                       ↑
    Netskope ●    ● Zscaler

    Microsoft ●        ● Talon/Island

クローズド ←──────────────────────→ オープン

              ● LayerX

         ★ pleno-audit
                       ↓
                    低コスト
```

**差別化軸**: オープン × 低コスト × プライバシー優先

## 3. ギャップマトリクス

### 競合に対する優位性

| 項目 | pleno-audit | CASB競合 | 差分 |
|------|-------------|----------|------|
| **プライバシー** | ◎ ローカル完結、外部通信禁止 | △ クラウド送信必須 | +プライバシー優位 |
| **導入容易性** | ◎ ブラウザ拡張のみ | △ エージェント/プロキシ必要 | +即座導入 |
| **コスト** | ◎ 無料/低コスト | △ 高額（$10K-100K/年） | +コスト優位 |
| **オープン性** | ◎ OSS予定 | × クローズド | +透明性・カスタマイズ |
| **AI監視** | ◎ Shadow AI検出 | △ 対応なし/限定 | +先行優位 |

### 競合に対する劣位性

| 項目 | pleno-audit | CASB競合 | 差分 |
|------|-------------|----------|------|
| **ブランド認知** | × ゼロ | ◎ 市場確立 | -認知ゼロ |
| **DLP機能** | △ 基本検出のみ | ◎ フル機能 | -機能差 |
| **サポート** | × なし | ◎ 24/7 Enterprise | -サポート |
| **実績・信頼** | × なし | ◎ Fortune 500導入 | -実績 |
| **統合範囲** | △ ブラウザのみ | ◎ ネットワーク全体 | -スコープ |

### Grafana戦略との比較（ビジネスモデル成熟度）

| 項目 | Grafana | pleno-audit | ギャップ |
|------|---------|-------------|----------|
| **プラグインエコシステム** | ◎ 100+プラグイン | × なし | 要構築 |
| **コミュニティ** | ◎ 20万ユーザー | × なし | 要構築 |
| **ドキュメント** | ◎ 充実 | △ ADRのみ | 要整備 |
| **OSS/Enterprise境界** | ◎ 明確 | △ 未分離 | 要設計 |
| **収益化** | ◎ $400M ARR | × なし | 要開始 |

## 4. 根本原因分析

### ギャップ1: プラグインエコシステムの不在

| 層 | 問い | 回答 |
|----|------|------|
| 表層 | なぜプラグインがない？ | 設計していないから |
| 中層 | なぜ設計していない？ | 内部モジュールで十分だったから |
| 深層 | なぜ内部で十分？ | 開発チームが全機能を把握できる規模だから |
| 根本 | **成長段階** | 単一開発者プロジェクトの設計最適化 |

**結論**: 外部貢献者を受け入れる段階で**埋めるべきギャップ**

### ギャップ2: Cloud版の不在

| 層 | 問い | 回答 |
|----|------|------|
| 表層 | なぜCloud版がない？ | 開発していないから |
| 中層 | なぜ開発していない？ | プライバシー優先設計のため |
| 深層 | なぜプライバシー優先？ | 差別化戦略として意図的 |
| 根本 | **戦略的選択** | ローカル完結が競争優位 |

**結論**: **意図的トレードオフ**。ただしハイブリッド戦略は検討余地あり

### ギャップ3: ブランド・コミュニティ不在

| 層 | 問い | 回答 |
|----|------|------|
| 表層 | なぜ認知がない？ | マーケティングしていないから |
| 中層 | なぜマーケティングしていない？ | プロダクト開発優先だから |
| 深層 | なぜプロダクト優先？ | まず動くものを作る段階だから |
| 根本 | **成長段階** | MVP→PMF段階 |

**結論**: 時間経過で**埋めるべきギャップ**

## 5. 戦略立案

### 方針: 「Privacy-First Open Core」

Grafanaの「ビッグテント戦略」を、プライバシー優位性を武器にブラウザセキュリティ領域で展開。

### Grafanaモデルの適用マッピング

| Grafana要素 | pleno-audit適用 |
|-------------|-----------------|
| OSS Core (AGPLv3) | OSS Core: 検出・可視化・基本ダッシュボード |
| Enterprise Edition | Enterprise: MDM統合・SIEM連携・高度ポリシー |
| Grafana Cloud | **適用しない** (プライバシー戦略) |
| プラグインエコシステム | Detector/Policy プラグインAPI |
| LGTM Stack | Security Stack: Detection + Policy + Runtime |

### OSS vs Enterprise境界線（Grafana型）

```
┌─────────────────────────────────────────────────────────┐
│                    OSS Edition (無料)                    │
├─────────────────────────────────────────────────────────┤
│ ✓ CASB検出 (SaaS、認証、プライバシーポリシー)           │
│ ✓ CSP違反検出・レポート                                 │
│ ✓ タイポスクワッティング・NRD検出                       │
│ ✓ AI監視 (Shadow AI、PII検出)                          │
│ ✓ 基本ダッシュボード・ポップアップ                      │
│ ✓ JSON/CSVエクスポート                                  │
│ ✓ ローカルストレージ (sql.js)                           │
│ ✓ コミュニティDetectorプラグイン                        │
└─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────┐
│                 Enterprise Edition (有料)                │
├─────────────────────────────────────────────────────────┤
│ ✓ OSS全機能                                             │
│ + MDM/GPO統合 (Jamf, Intune, Azure AD)                  │
│ + SSO強制 (OIDC/SAML)                                   │
│ + SIEM連携 (Splunk, Sentinel, Sumo Logic)              │
│ + 高度ポリシーエンジン (カスタムルール無制限)           │
│ + コンプライアンスレポート (SOC2, GDPR, ISO27001)       │
│ + リスク優先度付け (業界ベンチマーク)                   │
│ + 監査ログ・フォレンジック                              │
│ + マルチブラウザ統合管理コンソール                      │
│ + 24/7サポート・トレーニング                            │
│ + Enterpriseプラグイン                                   │
└─────────────────────────────────────────────────────────┘
```

### 収益モデル設計

| モデル | Grafana | pleno-audit適用 |
|--------|---------|-----------------|
| Self-hosted Enterprise | ✓ | ✓ ライセンス販売 (年額) |
| Cloud SaaS | ✓ | × (プライバシー戦略で除外) |
| マネージドサービス | ✓ | △ 管理コンソールのみSaaS |
| サポート契約 | ✓ | ✓ |
| トレーニング | ✓ | ✓ |
| カスタム開発 | ✓ | ✓ |

**想定価格帯**:
- SMB: $50-200/月 (10-50ユーザー)
- Mid-Market: $500-2,000/月 (50-500ユーザー)
- Enterprise: $5,000-20,000/月 (500+ユーザー)

### エコシステム戦略

#### Phase 1: Plugin API設計 (3-6ヶ月)

```typescript
// Detector Plugin Interface
interface DetectorPlugin {
  id: string;
  name: string;
  version: string;
  detect(context: DetectionContext): DetectionResult[];
}

// Policy Plugin Interface
interface PolicyPlugin {
  id: string;
  name: string;
  evaluate(event: SecurityEvent): PolicyDecision;
}

// Integration Plugin Interface
interface IntegrationPlugin {
  id: string;
  name: string;
  send(payload: IntegrationPayload): Promise<void>;
}
```

#### Phase 2: コミュニティ構築 (6-12ヶ月)

| 施策 | Grafana参考 | pleno-audit実装 |
|------|------------|-----------------|
| Forum | Community Forums | GitHub Discussions |
| リアルタイム | Slack | Discord |
| Champions | Grafana Champions | Security Champions Program |
| ドキュメント | docs.grafana.com | docs.pleno-audit.dev |
| プラグイン登録 | grafana.com/plugins | marketplace.pleno-audit.dev |

#### Phase 3: 開発者エコシステム (12-24ヶ月)

- `create-pleno-plugin` CLI ツール
- Plugin SDK (TypeScript)
- Plugin認証・配布インフラ
- 開発者向けダッシュボード

### ギャップ別対応戦略

| ギャップ | 根本原因 | 戦略 | 対応 |
|----------|---------|------|------|
| プラグインエコシステム | 成長段階 | **軽減** | Plugin API設計・SDK提供 |
| Cloud版 | 戦略的選択 | **受容** | 管理コンソールのみSaaS化 |
| ブランド認知 | 成長段階 | **軽減** | OSS公開・コミュニティ構築 |
| ドキュメント | 成長段階 | **軽減** | docs site構築 |
| コミュニティ | 成長段階 | **軽減** | Discord/GitHub Discussions |
| サポート | 成長段階 | **転嫁** | Enterprise契約に含める |
| 実績 | 時間 | **軽減** | 導入事例・ケーススタディ |

### 差別化ポイント（競合優位性）

```
┌─────────────────────────────────────────────────────────┐
│              pleno-audit 独自の価値提案                  │
├─────────────────────────────────────────────────────────┤
│ 1. Privacy-First: 外部通信ゼロ、ローカル完結            │
│    → GDPR/プライバシー意識の高い企業に訴求              │
│                                                         │
│ 2. Zero-Infrastructure: ブラウザ拡張のみ                │
│    → エージェント/プロキシ不要、即座導入                │
│                                                         │
│ 3. AI Security Pioneer: Shadow AI検出                   │
│    → ChatGPT/Copilot時代の新規リスク対応                │
│                                                         │
│ 4. Open & Extensible: Grafana型オープンコア             │
│    → ベンダーロック回避、カスタマイズ自由               │
│                                                         │
│ 5. Cost-Effective: 競合比90%コスト削減                  │
│    → SMB/スタートアップにも手が届く価格                 │
└─────────────────────────────────────────────────────────┘
```

### 具体的アクション

#### 優先度: 高 (0-6ヶ月)

1. **OSS公開準備**
   - ライセンス選定 (AGPLv3推奨、Grafana同様)
   - リポジトリ整備・README/Contributing Guide
   - 初期ドキュメントサイト

2. **Plugin API v1設計**
   - Detector Plugin Interface
   - Policy Plugin Interface
   - サンプルプラグイン3個

3. **Enterprise境界線確定**
   - OSS/Enterprise機能分離
   - ライセンスキー機構

#### 優先度: 中 (6-12ヶ月)

4. **コミュニティインフラ**
   - Discord開設
   - GitHub Discussions有効化
   - 月1回の開発者ミートアップ

5. **マーケティング初期**
   - プロダクトハント投稿
   - セキュリティカンファレンス登壇
   - ブログ/技術記事

6. **Enterprise販売準備**
   - 価格表
   - セールス資料
   - パイロット顧客獲得

#### 優先度: 低 (12-24ヶ月)

7. **Plugin Marketplace**
   - 登録・配布インフラ
   - 認証・レビュープロセス
   - 開発者ダッシュボード

8. **管理コンソールSaaS**
   - 複数ブラウザ統合管理
   - ポリシー配布
   - レポート集約

## 決定

Grafanaの「ビッグテント戦略」をブラウザセキュリティ領域に適用し、
**Privacy-First Open Core**モデルとして展開する。

Cloud版は戦略的に見送り、ローカル完結を差別化要因として維持する。

## 理由

1. **Grafanaの成功要因の再現可能性**
   - OSS→Enterprise階段モデルは実証済み
   - プラグインエコシステムで貢献者を獲得

2. **市場ギャップの存在**
   - 既存CASBは高価・複雑・プライバシー懸念
   - 軽量・プライバシー重視のオープン代替が不在

3. **技術的土台の成熟**
   - 22パッケージのモジュール設計でPlugin API対応可能
   - Enterprise機能（MDM/SSO/SIEM）は既に実装済み

4. **AI時代の先行優位**
   - Shadow AI検出は競合にない独自機能
   - この時期に市場を押さえる戦略的価値

## 結果

### 期待される効果
- OSS公開によるブランド構築・コミュニティ獲得
- Enterprise版でサステナブルな収益化
- プラグインエコシステムで機能拡張を外部委託
- プライバシー差別化で規制産業（金融・医療・政府）への訴求

### 受け入れるリスク
- Cloud版なしによるエンタープライズ需要の一部喪失
- エコシステム構築には時間がかかる（Grafanaは10年）
- 競合の後発追随

### KPI目標（Grafana参考）

| 指標 | Year 1 | Year 3 | Year 5 |
|------|--------|--------|--------|
| GitHub Stars | 1,000 | 5,000 | 20,000 |
| OSSユーザー | 500 | 5,000 | 50,000 |
| 有料顧客 | 10 | 100 | 500 |
| ARR | $50K | $500K | $5M |
| プラグイン数 | 5 | 20 | 100 |

---

## 関連ADR

- ADR-001: MVPはサーバーレスのブラウザ拡張機能として実装する
- ADR-002: MVPではブロック機能を実装せず検出・可視化のみとする
- ADR-029: Enterprise Managed Storage
- ADR-030: Firefox Support
