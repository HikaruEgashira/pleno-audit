# ADR 047: Audit Extension Dashboardの分割設計

## ステータス

Accepted

## コンテキスト

- Dashboardの`App.tsx`が状態管理・ナビゲーション・描画・ユーティリティを1ファイルに抱えている
- 変更時に依存関係が追いにくく、機能追加や仕様維持のレビュー負荷が高い
- UIの振る舞いを維持したまま構造を整理し、改修時の影響範囲を限定したい

## 決定

- 状態管理とデータ取得を`state`配下のHookに切り出す
- ナビゲーションとキーボード操作は専用Hookに分離する
- 表示は`views`/`components`に分割し、タブ単位で描画責務を限定する
- 公開UIの挙動・表示内容は変更せず、機能差分を発生させない

## 理由

- 見通し: 状態・操作・表示の責務を分離し可読性を上げる
- 変更容易性: タブ単位で改修でき、部分的な変更が容易になる
- 安全性: 既存の処理順とデータフローを保持し、挙動差異を抑制する

## リスクと対応

| リスク | 対応 |
|--------|------|
| 分割により参照経路が増える | 共通型/ユーティリティを`types`/`utils`に集約する |
| Hook間の依存が複雑化する | データ取得とUI操作を分離し、明確な入力/出力に限定する |
| UIの挙動差異が混入する | 既存ロジックを移植し、debuggerで実動作確認を行う |
