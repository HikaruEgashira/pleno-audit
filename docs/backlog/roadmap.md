# ロードマップ

## ビジョン

**最終目標**: 法人向けCASB（Cloud Access Security Broker）
- AIサービスの利用状況を可視化し、プライバシーリスクを管理
- 端末完結型（サーバーレス）のブラウザ拡張機能
- プライバシー保護（データは端末に留まる）
- 「検出→可視化→ポリシー生成」のフロー

## Phase 1: MVP強化 ✅ 完了

**目標**: 個人ユーザー向け価値検証

### 実装済み
- サービス検出（ログインページ、認証）
- CSP監査
- AIプロンプト監視（基本）
- PII検出（プロンプト内の個人情報検出）
- リスクスコアリング（AIプロンプトの機密性レベル自動評価）
- エクスポート機能（監査ログのCSV/JSON出力）

## Phase 2: 可視化強化 ✅ 完了

**目標**: データドリブンな意思決定支援

### 実装済み
| 機能 | 説明 | PR |
|-----|------|-----|
| ダッシュボード改善 | 時系列分析、トレンド表示、ヒートマップ | #49 |
| Shadow AI検出強化 | 17+プロバイダー自動分類（OpenAI, Anthropic, Google, Azure, DeepSeek等） | #50 |
| 拡張機能リスク監視 | パーミッション分析、ネットワーク活動監視、リスクスコア算出 | #51 |
| Identity Security | パスワード強度分析、SHA-256ハッシュベースの再利用検出 | #52 |

## Phase 3: ポリシーエンジン ✅ 完了

**目標**: 検出から保護へ

### 実装済み
| 機能 | 説明 | PR |
|-----|------|-----|
| アラート機能 | NRD、Typosquat、Shadow AI、Extension、AI Sensitiveアラート | Phase 1-2 |
| DLPルール | APIキー（Google, Stripe, Slack, JWT等）、日本固有パターン（マイナンバー等） | #53 |
| ポリシー自動生成 | 検出データからセキュリティポリシー自動提案 | #53 |
| ローカルブロック | ユーザー同意ベース、タイポスクワット/NRDログイン/機密データ送信ブロック | #54 |

## Phase 4: エンタープライズ対応

**目標**: 法人向けCASBへの進化

### 実装済み（ローカル完結）
| 機能 | 説明 | PR |
|-----|------|-----|
| ブロック設定UI | 設定メニューに保護機能トグルと同意ダイアログ追加 | #56 |
| Firefox対応 | Firefox MV2ビルドサポート、ブラウザ別manifest設定 | #57 |

### 未実装（外部サーバー連携が必要）
**注意**: 以下の機能は外部サーバー連携を含むため、現在のプライバシーポリシー（外部通信禁止）では実装不可。
ユーザー同意とプライバシーポリシー更新が必要。

| 機能 | 説明 | 優先度 |
|-----|------|-------|
| オプショナルサーバー連携 | 組織での一元管理 | 高 |
| SSO統合 | SAML/OIDC対応 | 高 |
| コンプライアンスレポート | HIPAA、CCPA対応 | 中 |
| Safari/Edge対応 | 追加ブラウザサポート | 低 |

## Phase 5: インテリジェンス

**目標**: 高度な分析機能

### 実装済み（ローカル完結）
| 機能 | 説明 | PR |
|-----|------|-----|
| 軽量脅威DB | バンドル形式の脅威インテリジェンス（高リスクTLD、フィッシングパターン） | #58 |

### 未実装（外部サーバー連携が必要）
| 機能 | 説明 | 優先度 |
|-----|------|-------|
| AI利用パターン分析 | 組織全体の傾向 | 中 |
| リスクベンチマーク | 業界平均との比較 | 低 |
| 予測分析 | リスク予兆の検出 | 低 |

## 成功指標

| Phase | KPI | 状態 |
|-------|-----|------|
| Phase 1 | 週間アクティブユーザー 100人 | 検証中 |
| Phase 2 | ユーザー維持率 40% | 検証中 |
| Phase 3 | 有料化検討可能なフィードバック収集 | 検証中 |
| Phase 4 | 初期法人顧客 5社 | 未着手 |
| Phase 5 | ARR達成 | 未着手 |

## リスクと対策

| リスク | 対策 |
|-------|------|
| ローカル完結の限界 | Phase 4でオプショナルサーバー連携 |
| Manifest V3制限 | WXT採用で対応済み |
| 競合の追随 | OSSとプライバシーで差別化維持 |
| サプライチェーン攻撃 | コード署名、リリース監査強化 |

## 新規パッケージ（Phase 1-5で追加）

| パッケージ | 説明 |
|-----------|------|
| `@pleno-audit/identity-security` | パスワード強度/再利用検出 |
| `@pleno-audit/data-export` | 監査ログエクスポート |
| `@pleno-audit/threat-intel` | バンドル形式の軽量脅威DB |

## 主要な追加ファイル

| ファイル | 説明 |
|---------|------|
| `packages/ai-detector/src/provider-classifier.ts` | Shadow AI検出（17+プロバイダー） |
| `packages/ai-detector/src/dlp-rules.ts` | DLPルール管理 |
| `packages/ai-detector/src/policy-generator.ts` | ポリシー自動生成 |
| `packages/extension-runtime/src/extension-risk-analyzer.ts` | 拡張機能リスク分析 |
| `packages/extension-runtime/src/blocking-engine.ts` | ローカルブロックエンジン |
| `app/extension/components/TimelineChart.tsx` | 時系列チャート |
| `app/extension/entrypoints/dashboard/TimelineTab.tsx` | タイムラインタブ |
